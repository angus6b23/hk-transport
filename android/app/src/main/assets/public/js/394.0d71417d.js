"use strict";(self["webpackChunkhk_bus"]=self["webpackChunkhk_bus"]||[]).push([[394],{9662:function(t,e,n){var a=n(614),o=n(6330),r=TypeError;t.exports=function(t){if(a(t))return t;throw new r(o(t)+" is not a function")}},9670:function(t,e,n){var a=n(111),o=String,r=TypeError;t.exports=function(t){if(a(t))return t;throw new r(o(t)+" is not an object")}},1318:function(t,e,n){var a=n(5656),o=n(1400),r=n(6244),i=function(t){return function(e,n,i){var u,l=a(e),s=r(l),c=o(i,s);if(t&&n!==n){while(s>c)if(u=l[c++],u!==u)return!0}else for(;s>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:i(!0),indexOf:i(!1)}},3658:function(t,e,n){var a=n(9781),o=n(3157),r=TypeError,i=Object.getOwnPropertyDescriptor,u=a&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=u?function(t,e){if(o(t)&&!i(t,"length").writable)throw new r("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4326:function(t,e,n){var a=n(1702),o=a({}.toString),r=a("".slice);t.exports=function(t){return r(o(t),8,-1)}},9920:function(t,e,n){var a=n(2597),o=n(3887),r=n(1236),i=n(3070);t.exports=function(t,e,n){for(var u=o(e),l=i.f,s=r.f,c=0;c<u.length;c++){var f=u[c];a(t,f)||n&&a(n,f)||l(t,f,s(e,f))}}},8880:function(t,e,n){var a=n(9781),o=n(3070),r=n(9114);t.exports=a?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},8052:function(t,e,n){var a=n(614),o=n(3070),r=n(6339),i=n(3072);t.exports=function(t,e,n,u){u||(u={});var l=u.enumerable,s=void 0!==u.name?u.name:e;if(a(n)&&r(n,s,u),u.global)l?t[e]=n:i(e,n);else{try{u.unsafe?t[e]&&(l=!0):delete t[e]}catch(c){}l?t[e]=n:o.f(t,e,{value:n,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return t}},3072:function(t,e,n){var a=n(7854),o=Object.defineProperty;t.exports=function(t,e){try{o(a,t,{value:e,configurable:!0,writable:!0})}catch(n){a[t]=e}return e}},9781:function(t,e,n){var a=n(7293);t.exports=!a((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(t){var e="object"==typeof document&&document.all,n="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},317:function(t,e,n){var a=n(7854),o=n(111),r=a.document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},7207:function(t){var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},8113:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(t,e,n){var a,o,r=n(7854),i=n(8113),u=r.process,l=r.Deno,s=u&&u.versions||l&&l.version,c=s&&s.v8;c&&(a=c.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&i&&(a=i.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=i.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),t.exports=o},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){var a=n(7854),o=n(1236).f,r=n(8880),i=n(8052),u=n(3072),l=n(9920),s=n(4705);t.exports=function(t,e){var n,c,f,d,p,m,h=t.target,g=t.global,v=t.stat;if(c=g?a:v?a[h]||u(h,{}):(a[h]||{}).prototype,c)for(f in e){if(p=e[f],t.dontCallGetSet?(m=o(c,f),d=m&&m.value):d=c[f],n=s(g?f:h+(v?".":"#")+f,t.forced),!n&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(t.sham||d&&d.sham)&&r(p,"sham",!0),i(c,f,p,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},4374:function(t,e,n){var a=n(7293);t.exports=!a((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){var a=n(4374),o=Function.prototype.call;t.exports=a?o.bind(o):function(){return o.apply(o,arguments)}},6530:function(t,e,n){var a=n(9781),o=n(2597),r=Function.prototype,i=a&&Object.getOwnPropertyDescriptor,u=o(r,"name"),l=u&&"something"===function(){}.name,s=u&&(!a||a&&i(r,"name").configurable);t.exports={EXISTS:u,PROPER:l,CONFIGURABLE:s}},1702:function(t,e,n){var a=n(4374),o=Function.prototype,r=o.call,i=a&&o.bind.bind(r,r);t.exports=a?i:function(t){return function(){return r.apply(t,arguments)}}},5005:function(t,e,n){var a=n(7854),o=n(614),r=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?r(a[t]):a[t]&&a[t][e]}},8173:function(t,e,n){var a=n(9662),o=n(8554);t.exports=function(t,e){var n=t[e];return o(n)?void 0:a(n)}},7854:function(t,e,n){var a=function(t){return t&&t.Math===Math&&t};t.exports=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},2597:function(t,e,n){var a=n(1702),o=n(7908),r=a({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return r(o(t),e)}},3501:function(t){t.exports={}},4664:function(t,e,n){var a=n(9781),o=n(7293),r=n(317);t.exports=!a&&!o((function(){return 7!==Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var a=n(1702),o=n(7293),r=n(4326),i=Object,u=a("".split);t.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(t){return"String"===r(t)?u(t,""):i(t)}:i},2788:function(t,e,n){var a=n(1702),o=n(614),r=n(5465),i=a(Function.toString);o(r.inspectSource)||(r.inspectSource=function(t){return i(t)}),t.exports=r.inspectSource},9909:function(t,e,n){var a,o,r,i=n(4811),u=n(7854),l=n(111),s=n(8880),c=n(2597),f=n(5465),d=n(6200),p=n(3501),m="Object already initialized",h=u.TypeError,g=u.WeakMap,v=function(t){return r(t)?o(t):a(t,{})},y=function(t){return function(e){var n;if(!l(e)||(n=o(e)).type!==t)throw new h("Incompatible receiver, "+t+" required");return n}};if(i||f.state){var w=f.state||(f.state=new g);w.get=w.get,w.has=w.has,w.set=w.set,a=function(t,e){if(w.has(t))throw new h(m);return e.facade=t,w.set(t,e),e},o=function(t){return w.get(t)||{}},r=function(t){return w.has(t)}}else{var b=d("state");p[b]=!0,a=function(t,e){if(c(t,b))throw new h(m);return e.facade=t,s(t,b,e),e},o=function(t){return c(t,b)?t[b]:{}},r=function(t){return c(t,b)}}t.exports={set:a,get:o,has:r,enforce:v,getterFor:y}},3157:function(t,e,n){var a=n(4326);t.exports=Array.isArray||function(t){return"Array"===a(t)}},614:function(t,e,n){var a=n(4154),o=a.all;t.exports=a.IS_HTMLDDA?function(t){return"function"==typeof t||t===o}:function(t){return"function"==typeof t}},4705:function(t,e,n){var a=n(7293),o=n(614),r=/#|\.prototype\./,i=function(t,e){var n=l[u(t)];return n===c||n!==s&&(o(e)?a(e):!!e)},u=i.normalize=function(t){return String(t).replace(r,".").toLowerCase()},l=i.data={},s=i.NATIVE="N",c=i.POLYFILL="P";t.exports=i},8554:function(t){t.exports=function(t){return null===t||void 0===t}},111:function(t,e,n){var a=n(614),o=n(4154),r=o.all;t.exports=o.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:a(t)||t===r}:function(t){return"object"==typeof t?null!==t:a(t)}},1913:function(t){t.exports=!1},2190:function(t,e,n){var a=n(5005),o=n(614),r=n(7976),i=n(3307),u=Object;t.exports=i?function(t){return"symbol"==typeof t}:function(t){var e=a("Symbol");return o(e)&&r(e.prototype,u(t))}},6244:function(t,e,n){var a=n(7466);t.exports=function(t){return a(t.length)}},6339:function(t,e,n){var a=n(1702),o=n(7293),r=n(614),i=n(2597),u=n(9781),l=n(6530).CONFIGURABLE,s=n(2788),c=n(9909),f=c.enforce,d=c.get,p=String,m=Object.defineProperty,h=a("".slice),g=a("".replace),v=a([].join),y=u&&!o((function(){return 8!==m((function(){}),"length",{value:8}).length})),w=String(String).split("String"),b=t.exports=function(t,e,n){"Symbol("===h(p(e),0,7)&&(e="["+g(p(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!i(t,"name")||l&&t.name!==e)&&(u?m(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&i(n,"arity")&&t.length!==n.arity&&m(t,"length",{value:n.arity});try{n&&i(n,"constructor")&&n.constructor?u&&m(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(o){}var a=f(t);return i(a,"source")||(a.source=v(w,"string"==typeof e?e:"")),t};Function.prototype.toString=b((function(){return r(this)&&d(this).source||s(this)}),"toString")},4758:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var a=+t;return(a>0?n:e)(a)}},3070:function(t,e,n){var a=n(9781),o=n(4664),r=n(3353),i=n(9670),u=n(4948),l=TypeError,s=Object.defineProperty,c=Object.getOwnPropertyDescriptor,f="enumerable",d="configurable",p="writable";e.f=a?r?function(t,e,n){if(i(t),e=u(e),i(n),"function"===typeof t&&"prototype"===e&&"value"in n&&p in n&&!n[p]){var a=c(t,e);a&&a[p]&&(t[e]=n.value,n={configurable:d in n?n[d]:a[d],enumerable:f in n?n[f]:a[f],writable:!1})}return s(t,e,n)}:s:function(t,e,n){if(i(t),e=u(e),i(n),o)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var a=n(9781),o=n(6916),r=n(5296),i=n(9114),u=n(5656),l=n(4948),s=n(2597),c=n(4664),f=Object.getOwnPropertyDescriptor;e.f=a?f:function(t,e){if(t=u(t),e=l(e),c)try{return f(t,e)}catch(n){}if(s(t,e))return i(!o(r.f,t,e),t[e])}},8006:function(t,e,n){var a=n(6324),o=n(748),r=o.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,r)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},7976:function(t,e,n){var a=n(1702);t.exports=a({}.isPrototypeOf)},6324:function(t,e,n){var a=n(1702),o=n(2597),r=n(5656),i=n(1318).indexOf,u=n(3501),l=a([].push);t.exports=function(t,e){var n,a=r(t),s=0,c=[];for(n in a)!o(u,n)&&o(a,n)&&l(c,n);while(e.length>s)o(a,n=e[s++])&&(~i(c,n)||l(c,n));return c}},5296:function(t,e){var n={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,o=a&&!n.call({1:2},1);e.f=o?function(t){var e=a(this,t);return!!e&&e.enumerable}:n},2140:function(t,e,n){var a=n(6916),o=n(614),r=n(111),i=TypeError;t.exports=function(t,e){var n,u;if("string"===e&&o(n=t.toString)&&!r(u=a(n,t)))return u;if(o(n=t.valueOf)&&!r(u=a(n,t)))return u;if("string"!==e&&o(n=t.toString)&&!r(u=a(n,t)))return u;throw new i("Can't convert object to primitive value")}},3887:function(t,e,n){var a=n(5005),o=n(1702),r=n(8006),i=n(5181),u=n(9670),l=o([].concat);t.exports=a("Reflect","ownKeys")||function(t){var e=r.f(u(t)),n=i.f;return n?l(e,n(t)):e}},4488:function(t,e,n){var a=n(8554),o=TypeError;t.exports=function(t){if(a(t))throw new o("Can't call method on "+t);return t}},6200:function(t,e,n){var a=n(2309),o=n(9711),r=a("keys");t.exports=function(t){return r[t]||(r[t]=o(t))}},5465:function(t,e,n){var a=n(7854),o=n(3072),r="__core-js_shared__",i=a[r]||o(r,{});t.exports=i},2309:function(t,e,n){var a=n(1913),o=n(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.0",mode:a?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:function(t,e,n){var a=n(7392),o=n(7293),r=n(7854),i=r.String;t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol("symbol detection");return!i(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},1400:function(t,e,n){var a=n(9303),o=Math.max,r=Math.min;t.exports=function(t,e){var n=a(t);return n<0?o(n+e,0):r(n,e)}},5656:function(t,e,n){var a=n(8361),o=n(4488);t.exports=function(t){return a(o(t))}},9303:function(t,e,n){var a=n(4758);t.exports=function(t){var e=+t;return e!==e||0===e?0:a(e)}},7466:function(t,e,n){var a=n(9303),o=Math.min;t.exports=function(t){return t>0?o(a(t),9007199254740991):0}},7908:function(t,e,n){var a=n(4488),o=Object;t.exports=function(t){return o(a(t))}},7593:function(t,e,n){var a=n(6916),o=n(111),r=n(2190),i=n(8173),u=n(2140),l=n(5112),s=TypeError,c=l("toPrimitive");t.exports=function(t,e){if(!o(t)||r(t))return t;var n,l=i(t,c);if(l){if(void 0===e&&(e="default"),n=a(l,t,e),!o(n)||r(n))return n;throw new s("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},4948:function(t,e,n){var a=n(7593),o=n(2190);t.exports=function(t){var e=a(t,"string");return o(e)?e:e+""}},6330:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},9711:function(t,e,n){var a=n(1702),o=0,r=Math.random(),i=a(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+i(++o+r,36)}},3307:function(t,e,n){var a=n(6293);t.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var a=n(9781),o=n(7293);t.exports=a&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:function(t,e,n){var a=n(7854),o=n(614),r=a.WeakMap;t.exports=o(r)&&/native code/.test(String(r))},5112:function(t,e,n){var a=n(7854),o=n(2309),r=n(2597),i=n(9711),u=n(6293),l=n(3307),s=a.Symbol,c=o("wks"),f=l?s["for"]||s:s&&s.withoutSetter||i;t.exports=function(t){return r(c,t)||(c[t]=u&&r(s,t)?s[t]:f("Symbol."+t)),c[t]}},7658:function(t,e,n){var a=n(2109),o=n(7908),r=n(6244),i=n(3658),u=n(7207),l=n(7293),s=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},f=s||!c();a({target:"Array",proto:!0,arity:1,forced:f},{push:function(t){var e=o(this),n=r(e),a=arguments.length;u(n+a);for(var l=0;l<a;l++)e[n]=arguments[l],n++;return i(e,n),n}})},4868:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=l(n(420)),o=l(n(6594)),r=l(n(451)),i=l(n(7672)),u=n(4057);function l(t){return t&&t.__esModule?t:{default:t}}var s=function(t,e,n){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6371e3,s=(0,a.default)(t),c=(0,o.default)(t),f=e/l,d=(0,r.default)(n),p=(0,r.default)(s),m=(0,r.default)(c),h=Math.asin(Math.sin(p)*Math.cos(f)+Math.cos(p)*Math.sin(f)*Math.cos(d)),g=m+Math.atan2(Math.sin(d)*Math.sin(f)*Math.cos(p),Math.cos(f)-Math.sin(p)*Math.sin(h)),v=(0,i.default)(g);return(v<u.MINLON||v>u.MAXLON)&&(g=(g+3*Math.PI)%(2*Math.PI)-Math.PI,v=(0,i.default)(g)),{latitude:(0,i.default)(h),longitude:v}},c=s;e["default"]=c},4057:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.areaConversion=e.timeConversion=e.distanceConversion=e.altitudeKeys=e.latitudeKeys=e.longitudeKeys=e.MAXLON=e.MINLON=e.MAXLAT=e.MINLAT=e.earthRadius=e.sexagesimalPattern=void 0;var n=/^([0-9]{1,3})°\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)['′]\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["″]\s*)?([NEOSW]?)$/;e.sexagesimalPattern=n;var a=6378137;e.earthRadius=a;var o=-90;e.MINLAT=o;var r=90;e.MAXLAT=r;var i=-180;e.MINLON=i;var u=180;e.MAXLON=u;var l=["lng","lon","longitude",0];e.longitudeKeys=l;var s=["lat","latitude",1];e.latitudeKeys=s;var c=["alt","altitude","elevation","elev",2];e.altitudeKeys=c;var f={m:1,km:.001,cm:100,mm:1e3,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/.9144};e.distanceConversion=f;var d={m:60,h:3600,d:86400};e.timeConversion=d;var p={m2:1,km2:1e-6,ha:1e-4,a:.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};e.areaConversion=p,p.sqm=p.m2,p.sqkm=p.km2,p.sqft=p.ft2,p.sqyd=p.yd2,p.sqin=p.in2},5241:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=n(4057),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",n=a.areaConversion[e];if(n)return t*n;throw new Error("Invalid unit used for area conversion.")},r=o;e["default"]=r},4638:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=n(4057),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",n=a.distanceConversion[e];if(n)return t*n;throw new Error("Invalid unit used for distance conversion.")},r=o;e["default"]=r},55:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=n(4057),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kmh";switch(e){case"kmh":return t*a.timeConversion.h*a.distanceConversion.km;case"mph":return t*a.timeConversion.h*a.distanceConversion.mi;default:return t}},r=o;e["default"]=r},8412:function(t,e){function n(t,e){return u(t)||i(t,e)||o(t,e)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function i(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,o=!1,r=void 0;try{for(var i,u=t[Symbol.iterator]();!(a=(i=u.next()).done);a=!0)if(n.push(i.value),e&&n.length===e)break}catch(l){o=!0,r=l}finally{try{a||null==u["return"]||u["return"]()}finally{if(o)throw r}}return n}}function u(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=Math.pow(10,e);return Math.round(t*n)/n},s=function(t){var e=t.toString().split("."),a=n(e,2),o=a[0],r=a[1],i=Math.abs(Number(o)),u=60*Number("0."+(r||0)),s=u.toString().split("."),c=Math.floor(u),f=l(60*Number("0."+(s[1]||0))).toString(),d=f.split("."),p=n(d,2),m=p[0],h=p[1],g=void 0===h?"0":h;return i+"° "+c.toString().padStart(2,"0")+"' "+m.padStart(2,"0")+"."+g.padEnd(1,"0")+'"'},c=s;e["default"]=c},6789:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=o(n(6620));function o(t){return t&&t.__esModule?t:{default:t}}var r=function(t,e){return(0,a.default)(t,e)[0]},i=r;e["default"]=i},8317:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=u(n(451)),o=u(n(420)),r=u(n(6594)),i=n(4057);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){var e=0;if(t.length>2){for(var n,u,l,s=0;s<t.length;s++){s===t.length-2?(n=t.length-2,u=t.length-1,l=0):s===t.length-1?(n=t.length-1,u=0,l=1):(n=s,u=s+1,l=s+2);var c=(0,r.default)(t[n]),f=(0,o.default)(t[u]),d=(0,r.default)(t[l]);e+=((0,a.default)(d)-(0,a.default)(c))*Math.sin((0,a.default)(f))}e=e*i.earthRadius*i.earthRadius/2}return Math.abs(e)},s=l;e["default"]=s},3954:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=r(n(420)),o=r(n(6594));function r(t){return t&&t.__esModule?t:{default:t}}var i=function(t){if(!1===Array.isArray(t)||0===t.length)throw new Error("No points were given.");return t.reduce((function(t,e){var n=(0,a.default)(e),r=(0,o.default)(e);return{maxLat:Math.max(n,t.maxLat),minLat:Math.min(n,t.minLat),maxLng:Math.max(r,t.maxLng),minLng:Math.min(r,t.minLng)}}),{maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0})},u=i;e["default"]=u},6914:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=l(n(420)),o=l(n(6594)),r=l(n(451)),i=l(n(7672)),u=n(4057);function l(t){return t&&t.__esModule?t:{default:t}}var s=function(t,e){var n,l,s=(0,a.default)(t),c=(0,o.default)(t),f=(0,r.default)(s),d=(0,r.default)(c),p=e/u.earthRadius,m=f-p,h=f+p,g=(0,r.default)(u.MAXLAT),v=(0,r.default)(u.MINLAT),y=(0,r.default)(u.MAXLON),w=(0,r.default)(u.MINLON);if(m>v&&h<g){var b=Math.asin(Math.sin(p)/Math.cos(f));n=d-b,n<w&&(n+=2*Math.PI),l=d+b,l>y&&(l-=2*Math.PI)}else m=Math.max(m,v),h=Math.min(h,g),n=w,l=y;return[{latitude:(0,i.default)(m),longitude:(0,i.default)(n)},{latitude:(0,i.default)(h),longitude:(0,i.default)(l)}]},c=s;e["default"]=c},2219:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=u(n(420)),o=u(n(6594)),r=u(n(451)),i=u(n(7672));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){if(!1===Array.isArray(t)||0===t.length)return!1;var e=t.length,n=t.reduce((function(t,e){var n=(0,r.default)((0,a.default)(e)),i=(0,r.default)((0,o.default)(e));return{X:t.X+Math.cos(n)*Math.cos(i),Y:t.Y+Math.cos(n)*Math.sin(i),Z:t.Z+Math.sin(n)}}),{X:0,Y:0,Z:0}),u=n.X/e,l=n.Y/e,s=n.Z/e;return{longitude:(0,i.default)(Math.atan2(l,u)),latitude:(0,i.default)(Math.atan2(s,Math.sqrt(u*u+l*l)))}},s=l;e["default"]=s},5146:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=o(n(3954));function o(t){return t&&t.__esModule?t:{default:t}}var r=function(t){var e=(0,a.default)(t),n=e.minLat+(e.maxLat-e.minLat)/2,o=e.minLng+(e.maxLng-e.minLng)/2;return{latitude:parseFloat(n.toFixed(6)),longitude:parseFloat(o.toFixed(6))}},i=r;e["default"]=i},9816:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=o(n(2392));function o(t){return t&&t.__esModule?t:{default:t}}var r=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.default,o="function"===typeof n?n(t,e):(0,a.default)(t,e);if(isNaN(o))throw new Error("Could not calculate bearing for given points. Check your bearing function");switch(Math.round(o/22.5)){case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";default:return"N"}},i=r;e["default"]=i},4179:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var n=function(t,e){return e.reduce((function(e,n){if("undefined"===typeof t||null===t)throw new Error("'".concat(t,"' is no valid coordinate."));return Object.prototype.hasOwnProperty.call(t,n)&&"undefined"!==typeof n&&"undefined"===typeof e?(e=n,n):e}),void 0)},a=n;e["default"]=a},5456:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=n(4057),o=r(n(4179));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{longitude:a.longitudeKeys,latitude:a.latitudeKeys,altitude:a.altitudeKeys},n=(0,o.default)(t,e.longitude),r=(0,o.default)(t,e.latitude),i=(0,o.default)(t,e.altitude);return u({latitude:r,longitude:n},i?{altitude:i}:{})},c=s;e["default"]=c},691:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=l(n(420)),o=l(n(6594)),r=l(n(451)),i=l(n(6533)),u=n(4057);function l(t){return t&&t.__esModule?t:{default:t}}var s=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;n="undefined"===typeof n||isNaN(n)?1:n;var l=(0,a.default)(t),s=(0,o.default)(t),c=(0,a.default)(e),f=(0,o.default)(e),d=Math.acos((0,i.default)(Math.sin((0,r.default)(c))*Math.sin((0,r.default)(l))+Math.cos((0,r.default)(c))*Math.cos((0,r.default)(l))*Math.cos((0,r.default)(s)-(0,r.default)(f))))*u.earthRadius;return Math.round(d/n)*n},c=s;e["default"]=c},6947:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=r(n(691)),o=r(n(6533));function r(t){return t&&t.__esModule?t:{default:t}}var i=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=(0,a.default)(e,t,r),u=(0,a.default)(t,n,r),l=(0,a.default)(e,n,r),s=Math.acos((0,o.default)((i*i+l*l-u*u)/(2*i*l))),c=Math.acos((0,o.default)((u*u+l*l-i*i)/(2*u*l)));return s>Math.PI/2?i:c>Math.PI/2?u:Math.sin(s)*i},u=i;e["default"]=u},5043:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=u(n(420)),o=u(n(6594)),r=u(n(451)),i=u(n(7672));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t,e){var n=(0,a.default)(e),u=(0,o.default)(e),l=(0,a.default)(t),s=(0,o.default)(t),c=((0,i.default)(Math.atan2(Math.sin((0,r.default)(u)-(0,r.default)(s))*Math.cos((0,r.default)(n)),Math.cos((0,r.default)(l))*Math.sin((0,r.default)(n))-Math.sin((0,r.default)(l))*Math.cos((0,r.default)(n))*Math.cos((0,r.default)(u)-(0,r.default)(s))))+360)%360;return c},s=l;e["default"]=s},420:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=n(4057),o=i(n(4179)),r=i(n(8290));function i(t){return t&&t.__esModule?t:{default:t}}var u=function(t,e){var n=(0,o.default)(t,a.latitudeKeys);if("undefined"!==typeof n&&null!==n){var i=t[n];return!0===e?i:(0,r.default)(i)}},l=u;e["default"]=l},6594:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=n(4057),o=i(n(4179)),r=i(n(8290));function i(t){return t&&t.__esModule?t:{default:t}}var u=function(t,e){var n=(0,o.default)(t,a.longitudeKeys);if("undefined"!==typeof n&&null!==n){var i=t[n];return!0===e?i:(0,r.default)(i)}},l=u;e["default"]=l},6037:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=o(n(691));function o(t){return t&&t.__esModule?t:{default:t}}function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default;return t.reduce((function(t,n){return"object"===r(t)&&null!==t.last&&(t.distance+=e(n,t.last)),t.last=n,t}),{last:null,distance:0}).distance},u=i;e["default"]=u},4288:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=u(n(420)),o=u(n(6594)),r=u(n(451)),i=n(4057);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;n="undefined"===typeof n||isNaN(n)?1:n;var u,l,s,c,f,d,p,m=(0,a.default)(t),h=(0,o.default)(t),g=(0,a.default)(e),v=(0,o.default)(e),y=6356752.314245,w=1/298.257223563,b=(0,r.default)(v-h),_=Math.atan((1-w)*Math.tan((0,r.default)(parseFloat(m)))),O=Math.atan((1-w)*Math.tan((0,r.default)(parseFloat(g)))),M=Math.sin(_),k=Math.cos(_),I=Math.sin(O),P=Math.cos(O),j=b,S=100;do{var x=Math.sin(j),W=Math.cos(j);if(d=Math.sqrt(P*x*(P*x)+(k*I-M*P*W)*(k*I-M*P*W)),0===d)return 0;u=M*I+k*P*W,l=Math.atan2(d,u),s=k*P*x/d,c=1-s*s,f=u-2*M*I/c,isNaN(f)&&(f=0);var N=w/16*c*(4+w*(4-3*c));p=j,j=b+(1-N)*w*s*(l+N*d*(f+N*u*(2*f*f-1)))}while(Math.abs(j-p)>1e-12&&--S>0);if(0===S)return NaN;var D=c*(i.earthRadius*i.earthRadius-y*y)/(y*y),$=1+D/16384*(4096+D*(D*(320-175*D)-768)),C=D/1024*(256+D*(D*(74-47*D)-128)),L=C*d*(f+C/4*(u*(2*f*f-1)-C/6*f*(4*d*d-3)*(4*f*f-3))),E=y*$*(l-L);return Math.round(E/n)*n},s=l;e["default"]=s},2392:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=u(n(420)),o=u(n(6594)),r=u(n(451)),i=u(n(7672));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t,e){var n=(0,r.default)((0,o.default)(e))-(0,r.default)((0,o.default)(t)),u=Math.log(Math.tan((0,r.default)((0,a.default)(e))/2+Math.PI/4)/Math.tan((0,r.default)((0,a.default)(t))/2+Math.PI/4));return Math.abs(n)>Math.PI&&(n=n>0?-1*(2*Math.PI-n):2*Math.PI+n),((0,i.default)(Math.atan2(n,u))+360)%360},s=l;e["default"]=s},4866:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var n=function(t){return/^(NNE|NE|NNW|N)$/.test(t)?"N":/^(ENE|E|ESE|SE)$/.test(t)?"E":/^(SSE|S|SSW|SW)$/.test(t)?"S":/^(WSW|W|WNW|NW)$/.test(t)?"W":void 0},a=n;e["default"]=a},1554:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=o(n(691));function o(t){return t&&t.__esModule?t:{default:t}}var r=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.default,o=n(t,e),r=Number(e.time)-Number(t.time),i=o/r*1e3;return i},i=r;e["default"]=i},7698:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var a={computeDestinationPoint:!0,convertArea:!0,convertDistance:!0,convertSpeed:!0,decimalToSexagesimal:!0,findNearest:!0,getAreaOfPolygon:!0,getBounds:!0,getBoundsOfDistance:!0,getCenter:!0,getCenterOfBounds:!0,getCompassDirection:!0,getCoordinateKey:!0,getCoordinateKeys:!0,getDistance:!0,getDistanceFromLine:!0,getGreatCircleBearing:!0,getLatitude:!0,getLongitude:!0,getPathLength:!0,getPreciseDistance:!0,getRhumbLineBearing:!0,getRoughCompassDirection:!0,getSpeed:!0,isDecimal:!0,isPointInLine:!0,isPointInPolygon:!0,isPointNearLine:!0,isPointWithinRadius:!0,isSexagesimal:!0,isValidCoordinate:!0,isValidLatitude:!0,isValidLongitude:!0,orderByDistance:!0,sexagesimalToDecimal:!0,toDecimal:!0,toRad:!0,toDeg:!0,wktToPolygon:!0};Object.defineProperty(e,"computeDestinationPoint",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"convertArea",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"convertDistance",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"convertSpeed",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"decimalToSexagesimal",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"findNearest",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"getAreaOfPolygon",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"getBounds",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"getBoundsOfDistance",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"getCenter",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"getCenterOfBounds",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"getCompassDirection",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"getCoordinateKey",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"getCoordinateKeys",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"getDistance",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"getDistanceFromLine",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(e,"getGreatCircleBearing",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"getLatitude",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"getLongitude",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(e,"getPathLength",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(e,"getPreciseDistance",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(e,"getRhumbLineBearing",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(e,"getRoughCompassDirection",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"getSpeed",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"isDecimal",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(e,"isPointInLine",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(e,"isPointInPolygon",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(e,"isPointNearLine",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(e,"isPointWithinRadius",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(e,"isSexagesimal",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(e,"isValidCoordinate",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(e,"isValidLatitude",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(e,"isValidLongitude",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(e,"orderByDistance",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(e,"sexagesimalToDecimal",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(e,"toDecimal",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(e,"toRad",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(e,"toDeg",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(e,"wktToPolygon",{enumerable:!0,get:function(){return R.default}});var o=H(n(4868)),r=H(n(5241)),i=H(n(4638)),u=H(n(55)),l=H(n(8412)),s=H(n(6789)),c=H(n(8317)),f=H(n(3954)),d=H(n(6914)),p=H(n(2219)),m=H(n(5146)),h=H(n(9816)),g=H(n(4179)),v=H(n(5456)),y=H(n(691)),w=H(n(6947)),b=H(n(5043)),_=H(n(420)),O=H(n(6594)),M=H(n(6037)),k=H(n(4288)),I=H(n(2392)),P=H(n(4866)),j=H(n(1554)),S=H(n(7182)),x=H(n(1521)),W=H(n(813)),N=H(n(8e3)),D=H(n(3741)),$=H(n(1496)),C=H(n(43)),L=H(n(2807)),E=H(n(6749)),z=H(n(6620)),A=H(n(6160)),T=H(n(8290)),B=H(n(451)),q=H(n(7672)),R=H(n(9553)),U=n(4057);function H(t){return t&&t.__esModule?t:{default:t}}Object.keys(U).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return U[t]}}))}))},7182:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var n=function(t){var e=t.toString().trim();return!isNaN(parseFloat(e))&&parseFloat(e)===Number(e)},a=n;e["default"]=a},1521:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=o(n(691));function o(t){return t&&t.__esModule?t:{default:t}}var r=function(t,e,n){return(0,a.default)(e,t)+(0,a.default)(t,n)===(0,a.default)(e,n)},i=r;e["default"]=i},813:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=r(n(420)),o=r(n(6594));function r(t){return t&&t.__esModule?t:{default:t}}var i=function(t,e){for(var n=!1,r=e.length,i=-1,u=r-1;++i<r;u=i)((0,o.default)(e[i])<=(0,o.default)(t)&&(0,o.default)(t)<(0,o.default)(e[u])||(0,o.default)(e[u])<=(0,o.default)(t)&&(0,o.default)(t)<(0,o.default)(e[i]))&&(0,a.default)(t)<((0,a.default)(e[u])-(0,a.default)(e[i]))*((0,o.default)(t)-(0,o.default)(e[i]))/((0,o.default)(e[u])-(0,o.default)(e[i]))+(0,a.default)(e[i])&&(n=!n);return n},u=i;e["default"]=u},8e3:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=o(n(6947));function o(t){return t&&t.__esModule?t:{default:t}}var r=function(t,e,n,o){return(0,a.default)(t,e,n)<o},i=r;e["default"]=i},3741:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=o(n(691));function o(t){return t&&t.__esModule?t:{default:t}}var r=function(t,e,n){var o=.01;return(0,a.default)(t,e,o)<n},i=r;e["default"]=i},1496:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=n(4057),o=function(t){return a.sexagesimalPattern.test(t.toString().trim())},r=o;e["default"]=r},43:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=i(n(5456)),o=i(n(2807)),r=i(n(6749));function i(t){return t&&t.__esModule?t:{default:t}}var u=function(t){var e=(0,a.default)(t),n=e.latitude,i=e.longitude;if(Array.isArray(t)&&t.length>=2)return(0,r.default)(t[0])&&(0,o.default)(t[1]);if("undefined"===typeof n||"undefined"===typeof i)return!1;var u=t[i],l=t[n];return"undefined"!==typeof l&&"undefined"!==typeof u&&(!1!==(0,o.default)(l)&&!1!==(0,r.default)(u))},l=u;e["default"]=l},2807:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=u(n(7182)),o=u(n(1496)),r=u(n(6160)),i=n(4057);function u(t){return t&&t.__esModule?t:{default:t}}var l=function t(e){return(0,a.default)(e)?!(parseFloat(e)>i.MAXLAT||e<i.MINLAT):!!(0,o.default)(e)&&t((0,r.default)(e))},s=l;e["default"]=s},6749:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=u(n(7182)),o=u(n(1496)),r=u(n(6160)),i=n(4057);function u(t){return t&&t.__esModule?t:{default:t}}var l=function t(e){return(0,a.default)(e)?!(parseFloat(e)>i.MAXLON||e<i.MINLON):!!(0,o.default)(e)&&t((0,r.default)(e))},s=l;e["default"]=s},6620:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=o(n(691));function o(t){return t&&t.__esModule?t:{default:t}}var r=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.default;return n="function"===typeof n?n:a.default,e.slice().sort((function(e,a){return n(t,e)-n(t,a)}))},i=r;e["default"]=i},6533:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var n=function(t){return t>1?1:t<-1?-1:t},a=n;e["default"]=a},6160:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=n(4057),o=function(t){var e=new RegExp(a.sexagesimalPattern).exec(t.toString().trim());if("undefined"===typeof e||null===e)throw new Error("Given value is not in sexagesimal format");var n=Number(e[2])/60||0,o=Number(e[4])/3600||0,r=parseFloat(e[1])+n+o;return["S","W"].includes(e[7])?-r:r},r=o;e["default"]=r},8290:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=l(n(7182)),o=l(n(1496)),r=l(n(6160)),i=l(n(43)),u=l(n(5456));function l(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function t(e){if((0,a.default)(e))return Number(e);if((0,o.default)(e))return(0,r.default)(e);if((0,i.default)(e)){var n=(0,u.default)(e);return Array.isArray(e)?e.map((function(e,n){return[0,1].includes(n)?t(e):e})):c(c(c({},e),n.latitude&&f({},n.latitude,t(e[n.latitude]))),n.longitude&&f({},n.longitude,t(e[n.longitude])))}return Array.isArray(e)?e.map((function(e){return(0,i.default)(e)?t(e):e})):e},p=d;e["default"]=p},7672:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var n=function(t){return 180*t/Math.PI},a=n;e["default"]=a},451:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var n=function(t){return t*Math.PI/180},a=n;e["default"]=a},9553:function(t,e){function n(t,e){return u(t)||i(t,e)||o(t,e)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function i(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,o=!1,r=void 0;try{for(var i,u=t[Symbol.iterator]();!(a=(i=u.next()).done);a=!0)if(n.push(i.value),e&&n.length===e)break}catch(l){o=!0,r=l}finally{try{a||null==u["return"]||u["return"]()}finally{if(o)throw r}}return n}}function u(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var l=function(t){if(!t.startsWith("POLYGON"))throw new Error("Invalid wkt.");var e=t.slice(t.indexOf("(")+2,t.indexOf(")")).split(", "),a=e.map((function(t){var e=t.split(" "),a=n(e,2),o=a[0],r=a[1];return{longitude:parseFloat(o),latitude:parseFloat(r)}}));return a},s=l;e["default"]=s},3978:function(t,e,n){n.d(e,{FS:function(){return r}});n(7658),n(8662);var a=n(9483),o=n.n(a);async function r(t){let e=[],n=await o().keys();n=n.filter((e=>0==e.indexOf(t)));for(let a of n){const t=await o().getItem(a);e=[...e,...t]}return e}},7942:function(t,e,n){function a(t){return new Promise((e=>{setTimeout(e,t)}))}n.d(e,{Z:function(){return a}})},7128:function(t,e,n){n.d(e,{Z:function(){return st}});var a=n(6252),o=n(3577);const r={key:0,class:"ion-margin-start"},i={key:1,class:"ion-margin-start"},u={key:0,class:"ion-margin-start"},l={key:1,class:"ion-margin-start"},s={key:0},c={key:1},f={key:0},d={key:1},p={key:2},m={slot:"fixed",class:"popup-segment"},h={class:"segment-content"},g={key:0},v={key:1},y={key:2,class:"max-size"};function w(t,e,n,w,b,_){const O=(0,a.up)("ion-title"),M=(0,a.up)("ion-icon"),k=(0,a.up)("ion-button"),I=(0,a.up)("ion-buttons"),P=(0,a.up)("ion-toolbar"),j=(0,a.up)("ion-header"),S=(0,a.up)("ion-label"),x=(0,a.up)("ion-segment-button"),W=(0,a.up)("ion-segment"),N=(0,a.up)("SkeletonItems"),D=(0,a.up)("ion-list"),$=(0,a.up)("StopItems"),C=(0,a.up)("RouteInfo"),L=(0,a.up)("LeafletMap"),E=(0,a.up)("ion-content");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(j,null,{default:(0,a.w5)((()=>[(0,a.Wm)(P,null,{default:(0,a.w5)((()=>["bus"==w.item.type||"minibus"==w.item.type?((0,a.wg)(),(0,a.j4)(O,{key:0},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,o.zw)(w.item.routeNo),1),"zh"===t.$i18next.language?((0,a.wg)(),(0,a.iD)("span",r,(0,o.zw)(w.item.destTC),1)):((0,a.wg)(),(0,a.iD)("span",i,(0,o.zw)(w.item.destEN),1))])),_:1})):"lightRail"==w.item.type?((0,a.wg)(),(0,a.j4)(O,{key:1},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(w.item.routeNameEN)+" ",1),"zh"===t.$i18next.language?((0,a.wg)(),(0,a.iD)("span",u,(0,o.zw)(w.item.originTC)+" - "+(0,o.zw)(w.item.destTC),1)):((0,a.wg)(),(0,a.iD)("span",l,(0,o.zw)(w.item.originEN)+" - "+(0,o.zw)(w.item.destEN),1))])),_:1})):((0,a.wg)(),(0,a.j4)(O,{key:2,class:"marquee"},{default:(0,a.w5)((()=>["zh"===t.$i18next.language?((0,a.wg)(),(0,a.iD)("span",s,(0,o.zw)(w.item.routeNameTC),1)):((0,a.wg)(),(0,a.iD)("span",c,(0,o.zw)(w.item.routeNameEN),1))])),_:1})),(0,a.Wm)(I,{slot:"start",class:"top-buttons"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{onClick:_.closeModal},{default:(0,a.w5)((()=>[(0,a.Wm)(M,{icon:w.chevronBack},null,8,["icon"])])),_:1},8,["onClick"])])),_:1}),(0,a.Wm)(I,{slot:"end",class:"top-buttons"},{default:(0,a.w5)((()=>[w.altRoutes&&1==w.altRoutes.length?((0,a.wg)(),(0,a.iD)("span",f,[(0,a.Wm)(k,{onClick:_.swapDirection},{default:(0,a.w5)((()=>[(0,a.Wm)(M,{icon:w.swapHorizontalOutline},null,8,["icon"])])),_:1},8,["onClick"])])):(0,a.kq)("",!0),w.altRoutes&&w.altRoutes.length>1?((0,a.wg)(),(0,a.iD)("span",d,[(0,a.Wm)(k,{onClick:_.presentActionSheet},{default:(0,a.w5)((()=>[(0,a.Wm)(M,{icon:w.swapHorizontalOutline},null,8,["icon"])])),_:1},8,["onClick"])])):(0,a.kq)("",!0),void 0!=w.starred?((0,a.wg)(),(0,a.iD)("span",p,[_.checkbusStar?((0,a.wg)(),(0,a.j4)(k,{key:0,onClick:_.removeStar},{default:(0,a.w5)((()=>[(0,a.Wm)(M,{icon:w.star},null,8,["icon"])])),_:1},8,["onClick"])):((0,a.wg)(),(0,a.j4)(k,{key:1,onClick:_.addStar},{default:(0,a.w5)((()=>[(0,a.Wm)(M,{icon:w.starOutline},null,8,["icon"])])),_:1},8,["onClick"]))])):(0,a.kq)("",!0)])),_:1})])),_:1})])),_:1}),(0,a.Wm)(E,{ref:"content",class:"ion-padding-bottom"},{default:(0,a.w5)((()=>[(0,a._)("section",m,[(0,a.Wm)(W,{modelValue:w.popupView,"onUpdate:modelValue":e[0]||(e[0]=t=>w.popupView=t)},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{value:"default"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.$t("etaPopup.frame.upcoming")),1)])),_:1})])),_:1}),"mtr"!=w.item.type&&"lightRail"!=w.item.type?((0,a.wg)(),(0,a.j4)(x,{key:0,value:"info"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.$t("etaPopup.frame.info")),1)])),_:1})])),_:1})):(0,a.kq)("",!0),"mtr"!=w.item.type&&"lightRail"!=w.item.type?((0,a.wg)(),(0,a.j4)(x,{key:1,value:"map"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.$t("etaPopup.frame.map")),1)])),_:1})])),_:1})):(0,a.kq)("",!0)])),_:1},8,["modelValue"])]),(0,a._)("div",h,["default"==w.popupView?((0,a.wg)(),(0,a.iD)("section",g,[w.popupLoading?((0,a.wg)(),(0,a.j4)(D,{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)(N)])),_:1})):((0,a.wg)(),(0,a.j4)(D,{key:1},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(w.item.stops,(t=>((0,a.wg)(),(0,a.j4)($,{key:t.id,stop:t,noEta:w.noEta,class:(0,o.C_)({nearest:_.isNearestStop(t.stopId)}),ref_for:!0,ref:"stopItem"},null,8,["stop","noEta","class"])))),128))])),_:1}))])):(0,a.kq)("",!0),"info"==w.popupView?((0,a.wg)(),(0,a.iD)("section",v,[(0,a.Wm)(C,{item:w.item},null,8,["item"])])):(0,a.kq)("",!0),"map"==w.popupView?((0,a.wg)(),(0,a.iD)("section",y,[(0,a.Wm)(L,{routeLocations:w.item.stops,currentLocation:w.currentLocation},null,8,["routeLocations","currentLocation"])])):(0,a.kq)("",!0)])])),_:1},512)],64)}n(7658);var b=n(2262),_=n(5001),O=n(8903),M=n(411),k=n(7698),I=n(6154);class P{constructor(t,e,n){this.seq=t,this.etas=e,this.note=n}}function j(t,e){return Math.abs(Math.ceil((t-e)/6e4))}async function S(t){let e={status:"",data:[]};try{const n=0==t.specialType?1:t.specialType,a=1==t.direction?"O":"I",o=await(0,I.Z)(`https://data.etabus.gov.hk/v1/transport/kmb/route-eta/${t.routeNo}/${n}`);let r=o.data;r=r.data.filter((t=>t.dir==a)),r.forEach((t=>{let n=e.data.findIndex((e=>e.seq==t.seq));if(t.eta){let a=j(new Date(t.data_timestamp),new Date(t.eta));-1==n?e.data.push(new P(t.seq,[a],"")):e.data[n].etas.push(a)}else-1==n?e.data.push(new P(t.seq,[],"N/A")):e.data[n].note="N/A"}))}catch(n){return console.error(n),e.status="netError",{etaData:e}}return e.data.forEach((t=>{t.etas.sort(((t,e)=>t-e))})),e.status="success",e}async function x(t){let e={status:"",data:[]};try{const n=t.company.includes("CTB")?"CTB":t.company.includes("NWFB")?"NWFB":null;let a=[];a=t.stops[0].altId?t.stops.map((e=>(0,I.Z)(`https://rt.data.gov.hk/v1.1/transport/citybus-nwfb/eta/${n}/${e.altId}/${t.routeNo}`))):t.stops.map((e=>(0,I.Z)(`https://rt.data.gov.hk/v1.1/transport/citybus-nwfb/eta/${n}/${e.stopId}/${t.routeNo}`)));const o=await I.Z.all(a);for(let r of o){let n=r.data.data;if(t.CTBDirection)n=n.filter((e=>e.dir==t.CTBDirection));else{let e=1==t.direction?"O":"I";n=n.filter((t=>t.dir==e))}let a=[];for(let t of n)""!==t.eta&&a.push(j(new Date(t.eta),new Date(t.data_timestamp)));e.data.push({stopId:n[0]?n[0].stop:void 0,etas:a,note:0==a.length?"N/A":""})}return e.status="success",e}catch(n){return console.error(n),e.status="error",e.data=n,e}}async function W(t){let e={status:"",data:[]};try{const{data:n}=await I.Z.post("https://rt.data.gov.hk/v1/transport/mtr/bus/getSchedule",{language:"zh",routeName:t.routeNo});let a=n.busStop;for(let t of a){let n=[];for(let e=0;e<3;e++)if(t.bus[e]){let a=108e3==t.bus[e].arrivalTimeInSecond?Math.floor(t.bus[e].departureTimeInSecond/60):Math.floor(t.bus[e].arrivalTimeInSecond/60);a=a<0?0:a,n.push(a)}e.data.push({stationId:t.busStopId,etas:n,note:0==n.length?"N/A":""})}return e.status="success",e}catch(n){return console.error(n),e.status="error",e.data=n,e}}async function N(t){let e={status:"",data:[]};try{const n=t.routeId,a=t.stops.map((t=>t.stopId));let o=a.map((t=>{if(""!=t)return(0,I.Z)(`https://rt.data.gov.hk/v2/transport/nlb/stop.php?action=estimatedArrivals&routeId=${n}&stopId=${t}&language=zh`)}));o=await I.Z.all(o);for(let t of o){let n=/stopId\=.*\&/,a=t.config.url.match(n)[0].replace("stopId=","").replace("&",""),o=[];for(let e of t.data.estimatedArrivals)if(e){let t=j(new Date(e.estimatedArrivalTime),new Date(e.generateTime));o.push(t)}e.data.push({stopId:a,etas:o,note:0==o.length?"N/A":""})}return e.status="success",e}catch(n){return e.status="fail",e}}async function D(t){let e={status:"",data:[]};try{const n=t.routeId,a=t.direction;let o=t.stops.map((t=>(0,I.Z)(`https://data.etagmb.gov.hk/eta/route-stop/${n}/${a}/${t.seq}`)));o=await I.Z.all(o);for(let t of o){let n=[],a=t.data.data.eta,o=t.data.data.stop_id;for(let t of a)n.push(t.diff);e.data.push({stopId:o,etas:n,note:0==n.length?"N/A":""})}return e.status="success",e}catch(n){return console.error(n),e.status="failed",e.data=n,e}}async function $(t){let e={status:"",data:[]};try{const n=t.routeId,a=t.direction;let o=t.stops.map((t=>(0,I.Z)(`https://rt.data.gov.hk/v1/transport/mtr/getSchedule.php?line=${n}&sta=${t.code}`)));o=await I.Z.all(o);let r="";for(let t of o){let o=[],i=t.config.url.match(/sta\=.*$/)[0].replace("sta=",""),u=[];if(t.data.error?r=t.data.error.errorMsg:t.data.data&&(u=1==a?t.data.data[`${n}-${i}`]["DOWN"]:t.data.data[`${n}-${i}`]["UP"]),u)for(let t of u)o.push(t.ttnt);o=o.slice(0,3),e.data.push({stopId:i,etas:o,note:0==o.length?"N/A":""})}return e.status=""==r?"success":"api-error",e.memo=r,e}catch(n){return console.error(n),e.status="failed",e.data=n,e}}async function C(t,e="https://api.12a.app/hk-transport/"){let n={status:"",data:[]};const{routeId:a,direction:o}=t;try{let t=await(0,I.Z)(`lightRailEta?routeNo=${a}&direction=${o}`,{baseURL:e});return n.status="success",n.data=t.data,console.log(n),n}catch(r){return console.error(r),n.status="failed",n.data=r,n}}const L={class:"ion-margin-start"},E={class:"ion-margin-start"};function z(t,e,n,o,r,i){const u=(0,a.up)("ion-skeleton-text"),l=(0,a.up)("ion-col"),s=(0,a.up)("ion-row"),c=(0,a.up)("ion-grid"),f=(0,a.up)("ion-item");return(0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(10,(t=>(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,{class:"ion-align-items-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{"size-xs":"2","size-md":"2"},{default:(0,a.w5)((()=>[(0,a._)("h5",L,[(0,a.Wm)(u,{animated:!0,style:{width:"80%"}})])])),_:1}),(0,a.Wm)(l,{"size-xs":"7","size-md":"7"},{default:(0,a.w5)((()=>[(0,a._)("h5",E,[(0,a.Wm)(u,{animated:!0,style:{width:"80%"}})])])),_:1}),(0,a.Wm)(l,{"size-xs":"3","size-md":"3"})])),_:1})])),_:1})])),_:1}))),64)}var A={name:"SkeletonItems",components:{IonGrid:_.jY,IonRow:_.Nd,IonCol:_.wI,IonItem:_.Ie,IonSkeletonText:_.CK}},T=n(3744);const B=(0,T.Z)(A,[["render",z]]);var q=B;const R={class:"ion-margin-start highlight"},U={key:0,class:"ion-margin-start highlight"},H={key:1,class:"ion-margin-start highlight"},F={key:0,class:"ion-margin-start highlight"},Z={key:1,class:"ion-margin-start highlight"},K={key:0},V={key:1},G={key:2},Y=(0,a._)("br",null,null,-1);function X(t,e,n,r,i,u){const l=(0,a.up)("ion-col"),s=(0,a.up)("ion-text"),c=(0,a.up)("ion-spinner"),f=(0,a.up)("ion-row"),d=(0,a.up)("ion-grid"),p=(0,a.up)("ion-item");return(0,a.wg)(),(0,a.j4)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,{class:"ion-align-items-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{"size-xs":"2","size-md":"2"},{default:(0,a.w5)((()=>[(0,a._)("h5",R,(0,o.zw)(parseInt(r.stop.seq)),1)])),_:1}),r.noEta?((0,a.wg)(),(0,a.j4)(l,{key:0,"size-xs":"10","size-md":"10"},{default:(0,a.w5)((()=>["zh"===t.$i18next.language?((0,a.wg)(),(0,a.iD)("h5",U,(0,o.zw)(r.stop.nameTC),1)):((0,a.wg)(),(0,a.iD)("h5",H,(0,o.zw)(r.stop.nameEN),1))])),_:1})):((0,a.wg)(),(0,a.j4)(l,{key:1,"size-xs":"7","size-md":"7"},{default:(0,a.w5)((()=>["zh"===t.$i18next.language?((0,a.wg)(),(0,a.iD)("h5",F,(0,o.zw)(r.stop.nameTC),1)):((0,a.wg)(),(0,a.iD)("h5",Z,(0,o.zw)(r.stop.nameEN),1))])),_:1})),r.noEta?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(l,{key:2,"size-xs":"3","size-md":"3",class:"ion-no-margin ion-text-right"},{default:(0,a.w5)((()=>["N/A"==r.stop.etaMessage?((0,a.wg)(),(0,a.iD)("div",K,[(0,a.Wm)(s,{color:"medium"},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,o.zw)(t.$t("etaPopup.upcoming.noService")),1)])),_:1})])):"loading"==r.stop.etaMessage?((0,a.wg)(),(0,a.iD)("div",V,[(0,a.Wm)(c,{color:"primary"})])):r.stop.etas.length>0?((0,a.wg)(),(0,a.iD)("div",G,[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,o.zw)(r.stop.etas.join(", ")),1),Y,(0,a._)("span",null,(0,o.zw)(t.$t("common.minute")),1)])),_:1})])):(0,a.kq)("",!0)])),_:1}))])),_:1})])),_:1})])),_:1})}var J={name:"StopItems",components:{IonGrid:_.jY,IonRow:_.Nd,IonCol:_.wI,IonItem:_.Ie,IonSpinner:_.PQ,IonText:_.yW},props:["stop","noEta"],emits:["getETA"],setup(t){const e=(0,b.iH)(t.stop),n=(0,b.iH)(t.noEta);return{stop:e,noEta:n}}};const Q=(0,T.Z)(J,[["render",X]]);var tt=Q;function et(t,e,n,r,i,u){const l=(0,a.up)("ion-col"),s=(0,a.up)("ion-row"),c=(0,a.up)("ion-grid"),f=(0,a.up)("ion-item"),d=(0,a.up)("ion-icon"),p=(0,a.up)("ion-card-title"),m=(0,a.up)("ion-text"),h=(0,a.up)("ion-card-content"),g=(0,a.up)("ion-card"),v=(0,a.up)("ion-list");return(0,a.wg)(),(0,a.j4)(v,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(l,{size:"6",class:"ion-text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.$t("etaPopup.info.journeyTime")),1)])),_:1}),(0,a.Wm)(l,{size:"6",class:"ion-text-right"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(`${t.item.journeyTime} ${t.$t("common.minute")}`),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(l,{size:"6",class:"ion-text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.$t("etaPopup.info.fullFare")),1)])),_:1}),(0,a.Wm)(l,{size:"6",class:"ion-text-right"},{default:(0,a.w5)((()=>[(0,a.Uk)("$"+(0,o.zw)(t.item.fullFare),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(f,{href:t.item.infoLinkTC,target:"_blank",button:""},{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(l,{size:"6",class:"ion-text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.$t("etaPopup.info.details")),1)])),_:1}),(0,a.Wm)(l,{size:"6",class:"ion-text-right"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{icon:t.openOutline},null,8,["icon"])])),_:1})])),_:1})])),_:1})])),_:1},8,["href"]),t.item.timetable?((0,a.wg)(),(0,a.j4)(f,{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.item.timetable,((e,n)=>((0,a.wg)(),(0,a.j4)(s,{key:n},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"timetable-card ion-padding"},{default:(0,a.w5)((()=>["MF"==e.title?((0,a.wg)(),(0,a.j4)(p,{key:0},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.$t("etaPopup.info.MF")),1)])),_:1})):"S"==e.title?((0,a.wg)(),(0,a.j4)(p,{key:1},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.$t("etaPopup.info.S")),1)])),_:1})):"H"==e.title?((0,a.wg)(),(0,a.j4)(p,{key:2},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.$t("etaPopup.info.H")),1)])),_:1})):"D"==e.title?((0,a.wg)(),(0,a.j4)(p,{key:3},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.$t("etaPopup.info.D")),1)])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.details,((t,e)=>((0,a.wg)(),(0,a.j4)(s,{key:`detail-${e}`},{default:(0,a.w5)((()=>[t.period?((0,a.wg)(),(0,a.j4)(l,{key:0,size:"6",class:"ion-text-left"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.period),1)])),_:2},1024)])),_:2},1024)):(0,a.kq)("",!0),t.freq?((0,a.wg)(),(0,a.j4)(l,{key:1,size:"6",class:"ion-text-right"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.freq),1)])),_:2},1024)])),_:2},1024)):(0,a.kq)("",!0)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})):(0,a.kq)("",!0)])),_:1})}var nt=(0,a.aZ)({name:"RouteInfo",components:{IonList:_.q_,IonItem:_.Ie,IonGrid:_.jY,IonRow:_.Nd,IonCol:_.wI,IonText:_.yW,IonCard:_.PM,IonCardTitle:_.Dq,IonCardContent:_.FN,IonIcon:_.gu},props:["item"],setup(t){const e=(0,b.iH)(t.item);return{item:e,openOutline:O.gmo}}});const at=(0,T.Z)(nt,[["render",et],["__scopeId","data-v-14b37502"]]);var ot=at,rt=n(9682),it=n(6009),ut={name:"ETAPopup",components:{IonHeader:_.Gu,IonTitle:_.wd,IonContent:_.W2,IonList:_.q_,IonLabel:_.Q$,IonIcon:_.gu,IonButton:_.YG,IonButtons:_.Sm,IonSegment:_.cJ,IonSegmentButton:_.GO,IonToolbar:_.sr,LeafletMap:rt.Z,SkeletonItems:q,StopItems:tt,RouteInfo:ot},props:["item","starred","noEta","altRoutes"],emits:["closeModal","addStar","removeStar","swapDirection"],setup(t){const e=(0,b.iH)(!1),n=(0,b.iH)({...t.item}),o=(0,b.iH)("default"),r=(0,b.iH)(t.starred),i=(0,b.iH)(t.altRoutes),u=(0,b.iH)(t.noEta),l=(0,b.iH)(),s=(0,b.iH)(),c=(0,b.iH)(null),f=(0,a.f3)("globalConfig");return{popupLoading:e,item:n,starred:r,popupView:o,altRoutes:i,currentLocation:l,nearestStop:s,noEta:u,stopItem:c,chevronBack:O.Mny,starOutline:O.i6c,star:O.h_b,swapHorizontalOutline:O._hl,injectConfig:f}},async mounted(){this.noEta&&(0,it.Z)("info",this.$t("toast.noEta")),"bus"===this.item.type&&1==this.item.company.length&&(this.item.company.includes("KMB")||this.item.company.includes("LWB"))?(this.getKMB(),this.interval=setInterval((async()=>await this.getKMB()),1e4)):"bus"===this.item.type&&1==this.item.company.length&&(this.item.company.includes("CTB")||this.item.company.includes("NWFB"))?(this.getCTB(),this.interval=setInterval((async()=>await this.getCTB()),1e4)):"bus"===this.item.type&&this.item.company.length>=2?(this.getMultiple(),this.interval=setInterval((async()=>await this.getMultiple()),1e4)):"bus"===this.item.type&&this.item.company.includes("LRTFeeder")?(this.getMtrBus(),this.interval=setInterval((async()=>await this.getMtrBus()),1e4)):"bus"===this.item.type&&this.item.company.includes("NLB")?(this.getNLB(),this.interval=setInterval((async()=>await this.getNLB()),1e4)):"minibus"===this.item.type?(this.getMinibus(),this.interval=setInterval((async()=>await this.getMinibus()),1e4)):"mtr"===this.item.type&&(this.getMtr(),this.interval=setInterval((async()=>await this.getMtr()),1e4)),"lightRail"===this.item.type&&this.getLightRail();try{this.currentLocation=await M.b.getCurrentPosition();const t=this.item.stops.map((t=>{if(t.coord&&t.coord.length>0){const e=this.currentLocation.coords.latitude,n=this.currentLocation.coords.longitude,a=t.coord[1],o=t.coord[0];return{id:t.stopId,distance:(0,k.getDistance)({latitude:e,longitude:n},{latitude:a,longitude:o})}}return{distance:9999999}}));if(this.nearestStop=t.reduce(((t,e)=>e.distance<t.distance?e:t)),this.nearestStop&&this.nearestStop.distance<1e3){let t=this.item.stops.findIndex((t=>t.stopId==this.nearestStop.id));if(-1!=t&&this.$refs.stopItem){let e=this.$refs.stopItem[0].$el.clientHeight;this.$refs.content.$el.scrollToPoint(0,e*t-e/2,500)}}}catch(t){console.error(t)}},computed:{checkbusStar(){if(this.starred){let t=[...this.starred];if(0==t.length)return!1;{let e=t.findIndex((t=>t.routeId==this.item.routeId&&t.direction==this.item.direction));return-1!=e}}return!1}},methods:{closeModal(){this.$emit("closeModal")},addStar(){this.$emit("addStar")},removeStar(){this.$emit("removeStar")},swapDirection(){this.$emit("swapDirection",this.altRoutes[0])},populateETABySeq(t){"success"==t.status&&t.data.length>0&&t.data.forEach((t=>{const e=this.item.stops.findIndex((e=>e.seq==t.seq));-1!=e&&(this.item.stops[e].etaMessage=t.note,this.item.stops[e].etas=[...t.etas])}))},populateETAById(t){"success"==t.status&&t.data.length>0&&t.data.forEach((t=>{let e;e=this.item.stops[0].altId?this.item.stops.findIndex((e=>e.altId===t.stopId)):this.item.stops.findIndex((e=>e.stopId==t.stopId||e.stopId==t.stationId)),-1!=e&&(this.item.stops[e].etaMessage=t.note,this.item.stops[e].etas=[...t.etas])}))},async getKMB(){const t=await S(this.item);this.populateETABySeq(t)},async getCTB(){const t=await x(this.item);this.populateETAById(t)},async getLightRail(){const t=""===this.injectConfig.apiBaseUrl?void 0:this.injectConfig.apiBaseUrl,e=await C(this.item,t);this.populateETAById(e)},async getMultiple(){const t=S(this.item),e=x(this.item);let n=await Promise.all([t,e]),[a,o]=n,r=[];if("success"===a.status)for(let i of a.data){let t=i.etas.map((t=>({tag:"KMB",eta:t,note:i.note})));r.push({seq:i.seq,data:t})}if("success"===o.status){const t=this.item.company.includes("CTB")?"CTB":"NWFB";for(let e of o.data){let n=this.item.stops.findIndex((t=>t.altId==e.stopId));if(-1!=n){let a=this.item.stops[n].seq,o=r.findIndex((t=>t.seq==a)),i=e.etas.map((n=>({tag:t,eta:n,note:e.note})));-1!=o?r[o].data=[...r[o].data,...i]:r.push({seq:a,data:i})}}}for(let i of r)i.data.sort(((t,e)=>t.eta-e.eta));console.log(r);for(let i=0;i<r.length;i++){let t=r[i],e=this.item.stops.findIndex((e=>e.seq==t.seq));if(-1!=e){let n=t.data.map((t=>t.eta));n.length>0?this.item.stops[e].etas=n.slice(0,3):this.item.stops[e].etaMessage="N/A"}}},async getMtrBus(){const t=await W(this.item);this.populateETAById(t)},async getNLB(){const t=await N(this.item);this.populateETAById(t)},async getMinibus(){const t=await D(this.item);this.populateETAById(t)},async getMtr(){const t=await $(this.item);"success"==t.status&&t.data.length>0?t.data.forEach((t=>{const e=this.item.stops.findIndex((e=>e.code==t.stopId));-1!=e&&(this.item.stops[e].etaMessage=t.note,this.item.stops[e].etas=[...t.etas])})):"api-error"==t.status&&(0,it.Z)("error",t.memo)},async presentActionSheet(){const t=this.altRoutes.map((t=>"zh"===this.$i18next.language?{text:`${t.originTC} →  ${t.destTC}`,data:t}:{text:`${t.originEN} →  ${t.destEN}`,data:t})),e=await _.BO.create({header:this.$t("etaPopup.frame.otherDirection"),buttons:t});await e.present();const{data:n}=await e.onDidDismiss();this.$emit("swapDirection",n)},isNearestStop(t){return!!(this.nearestStop&&this.nearestStop.id===t&&this.nearestStop.distance<=1e3)}},beforeUnmount(){clearInterval(this.interval)}};const lt=(0,T.Z)(ut,[["render",w]]);var st=lt},1809:function(t,e,n){n.d(e,{Z:function(){return W}});var a=n(6252),o=n(3577);const r=(0,a._)("h5",null,"語言 / Language",-1),i={key:0},u={key:1},l={key:0},s={key:1},c={key:2},f={key:0},d={key:1},p={key:2},m=(0,a._)("p",null,"GPLv3",-1),h={class:"ion-text-wrap"},g=(0,a._)("p",null,"https://12a.app",-1);function v(t,e,n,v,y,w){const b=(0,a.up)("ion-title"),_=(0,a.up)("ion-icon"),O=(0,a.up)("ion-button"),M=(0,a.up)("ion-buttons"),k=(0,a.up)("ion-toolbar"),I=(0,a.up)("ion-header"),P=(0,a.up)("ion-label"),j=(0,a.up)("ion-list-header"),S=(0,a.up)("ion-item"),x=(0,a.up)("ion-input"),W=(0,a.up)("ion-checkbox"),N=(0,a.up)("ion-list"),D=(0,a.up)("ion-content");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(I,null,{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.$t("option.title")),1)])),_:1}),(0,a.Wm)(M,{slot:"start"},{default:(0,a.w5)((()=>[(0,a.Wm)(O,{onClick:w.closeOption},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{icon:v.chevronBack},null,8,["icon"])])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,a.Wm)(D,{class:"ion-padding-bottom"},{default:(0,a.w5)((()=>[(0,a.Wm)(j,null,{default:(0,a.w5)((()=>[(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.$t("option.basic")),1)])),_:1})])),_:1}),(0,a.Wm)(N,null,{default:(0,a.w5)((()=>[(0,a.Wm)(S,{button:"",onClick:w.presentLangAction},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{icon:v.languageOutline,slot:"start"},null,8,["icon"]),(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[r,"zh"==v.config.lang?((0,a.wg)(),(0,a.iD)("p",i,"正體中文")):"en"==v.config.lang?((0,a.wg)(),(0,a.iD)("p",u,"English")):(0,a.kq)("",!0)])),_:1})])),_:1},8,["onClick"]),(0,a.Wm)(S,{button:"",onClick:w.presentThemeAction},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{icon:v.colorPaletteOutline,slot:"start"},null,8,["icon"]),(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a._)("h5",null,(0,o.zw)(t.$t("option.theme")),1),"light"==v.config.theme?((0,a.wg)(),(0,a.iD)("p",l,(0,o.zw)(t.$t("option.light")),1)):"dark"==v.config.theme?((0,a.wg)(),(0,a.iD)("p",s,(0,o.zw)(t.$t("option.dark")),1)):"system"==v.config.theme?((0,a.wg)(),(0,a.iD)("p",c,(0,o.zw)(t.$t("option.systemTheme")),1)):(0,a.kq)("",!0)])),_:1})])),_:1},8,["onClick"]),(0,a.Wm)(S,{button:"",onClick:w.presentSourceAction},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{icon:v.serverOutline,slot:"start"},null,8,["icon"]),(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a._)("h5",null,(0,o.zw)(t.$t("option.dataSource")),1),"default"==v.config.fetchMethod?((0,a.wg)(),(0,a.iD)("p",f,(0,o.zw)(t.$t("option.defaultSource")),1)):"hkgov"==v.config.fetchMethod?((0,a.wg)(),(0,a.iD)("p",d,(0,o.zw)(t.$t("option.govApi")),1)):"self"==v.config.fetchMethod?((0,a.wg)(),(0,a.iD)("p",p,(0,o.zw)(t.$t("option.selfHost")),1)):(0,a.kq)("",!0)])),_:1})])),_:1},8,["onClick"]),"self"==v.config.fetchMethod?((0,a.wg)(),(0,a.j4)(S,{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)(P,{position:"stacked"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.$t("option.selfHostUrl")),1)])),_:1}),(0,a.Wm)(x,{placeholder:"https://your.api",modelValue:v.apiBaseUrl,"onUpdate:modelValue":e[0]||(e[0]=t=>v.apiBaseUrl=t)},null,8,["modelValue"])])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a.Wm)(_,{icon:v.returnDownForwardOutline,slot:"start"},null,8,["icon"]),(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a._)("h5",null,(0,o.zw)(t.$t("option.autoScroll")),1)])),_:1}),(0,a.Wm)(W,{slot:"end",modelValue:v.autoScroll,"onUpdate:modelValue":e[1]||(e[1]=t=>v.autoScroll=t)},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(j,null,{default:(0,a.w5)((()=>[(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.$t("option.manageData")),1)])),_:1})])),_:1}),(0,a.Wm)(N,{class:"ion-padding-bottom ion-margin-bottom"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{button:"",onClick:w.updateData},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{icon:v.cloudDownloadOutline,slot:"start"},null,8,["icon"]),(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a._)("h5",null,(0,o.zw)(t.$t("option.updateRoute")),1)])),_:1})])),_:1},8,["onClick"]),(0,a.Wm)(S,{button:"",onClick:w.downloadData},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{icon:v.reloadOutline,slot:"start"},null,8,["icon"]),(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a._)("h5",null,(0,o.zw)(t.$t("option.reloadRoute")),1)])),_:1})])),_:1},8,["onClick"]),(0,a.Wm)(S,{button:"",onClick:w.clearStarred},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{icon:v.starHalfOutline,slot:"start"},null,8,["icon"]),(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a._)("h5",null,(0,o.zw)(t.$t("option.removeAllStar")),1)])),_:1})])),_:1},8,["onClick"]),(0,a.Wm)(S,{button:"",onClick:w.confirmClearData},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{icon:v.trashOutline,slot:"start"},null,8,["icon"]),(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a._)("h5",null,(0,o.zw)(t.$t("option.resetAll")),1)])),_:1})])),_:1},8,["onClick"]),(0,a.Wm)(j,null,{default:(0,a.w5)((()=>[(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.$t("option.about")),1)])),_:1})])),_:1}),(0,a.Wm)(S,{button:"",href:"https://www.gnu.org/licenses/gpl-3.0.en.html",target:"_blank"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{icon:v.bookOutline,slot:"start"},null,8,["icon"]),(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a._)("h5",null,(0,o.zw)(t.$t("option.license")),1),m])),_:1})])),_:1}),(0,a.Wm)(S,{button:"",href:"https://github.com/angus6b23/hk-transport",target:"_blank"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{icon:v.codeSlashOutline,slot:"start"},null,8,["icon"]),(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a._)("h5",null,(0,o.zw)(t.$t("option.sourceCode")),1)])),_:1})])),_:1}),(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a.Wm)(_,{icon:v.shieldCheckmarkOutline,slot:"start"},null,8,["icon"]),(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a._)("h5",null,(0,o.zw)(t.$t("option.promise")),1),(0,a._)("p",h,(0,o.zw)(t.$t("option.promiseDescription")),1)])),_:1})])),_:1}),(0,a.Wm)(S,{button:"",href:"https://liberapay.com/12a.app/donate",target:"_blank"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{icon:v.iceCreamOutline,slot:"start"},null,8,["icon"]),(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a._)("h5",null,(0,o.zw)(t.$t("option.support")),1),(0,a._)("p",null,(0,o.zw)(t.$t("option.supportDescription")),1)])),_:1})])),_:1}),(0,a.Wm)(S,{button:"",href:"https://12a.app",target:"_blank"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{icon:v.linkOutline,slot:"start"},null,8,["icon"]),(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a._)("h5",null,(0,o.zw)(t.$t("option.otherApp")),1),g])),_:1})])),_:1})])),_:1})])),_:1})],64)}var y=n(2262),w=n(9895);const b=(0,w.fo)("Dialog",{web:()=>n.e(674).then(n.bind(n,5674)).then((t=>new t.DialogWeb))});var _=n(5001),O=n(8903),M=n(1547),k=n(6009),I=n(9483),P=n.n(I),j={name:"Option-popup",components:{IonHeader:_.Gu,IonTitle:_.wd,IonContent:_.W2,IonList:_.q_,IonListHeader:_.yh,IonLabel:_.Q$,IonItem:_.Ie,IonIcon:_.gu,IonButton:_.YG,IonButtons:_.Sm,IonToolbar:_.sr,IonInput:_.pK,IonCheckbox:_.nz},emits:["closeOption","updateData","downloadData","changeLanguage"],setup(){const t=(0,y.iH)({}),e=(0,y.iH)(""),n=(0,y.iH)(!1),a=document.body;return{chevronBack:O.Mny,linkOutline:O.m5T,codeSlashOutline:O.qkj,shieldCheckmarkOutline:O.nve,languageOutline:O.V2o,iceCreamOutline:O._mM,serverOutline:O.bhR,cloudDownloadOutline:O.V30,reloadOutline:O.Lk3,starHalfOutline:O.NN6,trashOutline:O.gtu,colorPaletteOutline:O.enK,returnDownForwardOutline:O.No0,bookOutline:O.W3$,config:t,apiBaseUrl:e,body:a,autoScroll:n}},async mounted(){this.config=await P().getItem("config"),this.apiBaseUrl=this.config.apiBaseUrl,this.autoScroll=this.config.autoScroll},methods:{closeOption(){this.$emit("closeOption")},async updateApiUrl(){await P().setItem("config",JSON.parse(JSON.stringify(this.config)))},async clearStarred(){const{value:t}=await b.confirm({title:this.$t("option.removeAllStar"),message:this.$t("option.removeAllStarPrompt")});t&&(await P().setItem("starred",[]),(0,k.Z)("info",this.$t("toast.removedStar")))},async confirmClearData(){const{value:t}=await b.confirm({title:this.$t("option.resetAll"),message:this.$t("option.resetAllPrompt")});if(t){let t=await P().keys();for(let e of t)await P().removeItem(e);(0,k.Z)("info",this.$t("toast.resetAll")),setTimeout((()=>{location.replace(location.origin)}),3e3)}},async updateData(){const t=await _.G0.create({message:this.$t("option.updatingData")+'<br><span id="loading-progress"><span>'});try{let e;if(t.present(),e="self"==this.config.fetchMethod?await(0,M.Z)(this.config.apiBaseUrl):await(0,M.Z)(),!e||e instanceof Error)throw new Error(e.message);t.dismiss(),location.replace(location.origin)}catch(e){t.dismiss(),(0,k.Z)("error",this.$t("toast.networkError"))}},async downloadData(){const t=await _.G0.create({message:this.$t("option.redownloadData")+'<br><span id="loading-progress"><span>'});t.present();let e=await P().keys();for(let n of e)"config"!==n&&"starred"!=n&&await P().removeItem(n);"self"==this.config.fetchMethod?await(0,M.Z)(this.config.apiBaseUrl):await(0,M.Z)(),t.dismiss(),location.replace(location.origin)},async presentLangAction(){const t=[{text:"正體中文",data:{action:"zh"}},{text:"English",data:{action:"en"}}],e=await _.BO.create({header:"請選擇語言 / Select Language ",buttons:t});await e.present();const n=await e.onDidDismiss();n.data&&this.config.lang!=n.data.action&&(this.config.lang=n.data.action,this.$i18next.changeLanguage(this.config.lang),await P().setItem("config",JSON.parse(JSON.stringify(this.config))))},async presentSourceAction(){const t=[{text:this.$t("option.defaultSource"),data:{action:"default"}},{text:this.$t("option.selfHost"),data:{action:"self"}}],e=await _.BO.create({header:this.$t("option.selectSource"),buttons:t});await e.present();const n=await e.onDidDismiss();n.data&&this.config.fetchMethod!=n.data.action&&(this.config.fetchMethod=n.data.action,await P().setItem("config",JSON.parse(JSON.stringify(this.config))),await(0,k.Z)("info",this.$t("toast.changeSourceHint")))},async presentThemeAction(){const t=[{text:this.$t("option.systemTheme"),data:{action:"system"}},{text:this.$t("option.light"),data:{action:"light"}},{text:this.$t("option.dark"),data:{action:"dark"}}],e=await _.BO.create({header:this.$t("option.selectTheme"),buttons:t});await e.present();const n=await e.onDidDismiss();n.data&&(this.config.theme=n.data.action,await P().setItem("config",JSON.parse(JSON.stringify(this.config))),"dark"==n.data.action?this.body.classList.toggle("dark",!0):"light"==n.data.action?this.body.classList.toggle("dark",!1):window.matchMedia("(prefers-color-scheme: dark)").matches?this.body.classList.toggle("dark",!0):this.body.classList.toggle("dark",!1))}},watch:{async apiBaseUrl(){this.config={...this.config,apiBaseUrl:this.apiBaseUrl},await P().setItem("config",JSON.parse(JSON.stringify(this.config)))},async autoScroll(){this.config={...this.config,autoScroll:this.autoScroll},await P().setItem("config",JSON.parse(JSON.stringify(this.config)))}}},S=n(3744);const x=(0,S.Z)(j,[["render",v]]);var W=x}}]);
//# sourceMappingURL=394.0d71417d.js.map