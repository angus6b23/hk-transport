"use strict";(self["webpackChunkhk_transport"]=self["webpackChunkhk_transport"]||[]).push([[405],{1821:function(e,t,i){i.d(t,{Z:function(){return N}});var o=i(6252),n=i(3577),s=i(9963);const l={key:0,class:"ion-no-margin ion-margin-start ion-padding-vertical"},a={key:1,class:"ion-no-margin ion-margin-start ion-padding-vertical"},d={key:0,class:"ion-no-margin ion-margin-start ion-padding-vertical"},r={key:1,class:"ion-no-margin ion-margin-start ion-padding-vertical"},u={key:0,class:"ion-no-margin ion-margin-start ion-padding-vertical"},p={key:1,class:"ion-no-margin ion-margin-start ion-padding-vertical"};function c(e,t){const i=(0,o.up)("i18next"),c=(0,o.up)("ion-title"),m=(0,o.up)("ion-icon"),w=(0,o.up)("ion-button"),h=(0,o.up)("ion-buttons"),g=(0,o.up)("ion-toolbar"),f=(0,o.up)("ion-header"),k=(0,o.up)("OptionView"),I=(0,o.up)("ion-modal"),y=(0,o.up)("ion-label"),_=(0,o.up)("ion-list-header"),W=(0,o.up)("ion-col"),O=(0,o.up)("ion-row"),z=(0,o.up)("ion-grid"),N=(0,o.up)("ion-item"),C=(0,o.up)("ion-list"),S=(0,o.up)("ion-content"),D=(0,o.up)("ETAPopup"),b=(0,o.up)("News"),M=(0,o.up)("ion-page");return(0,o.wg)(),(0,o.j4)(M,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,{translation:e.$t("listView.title")},{transportType:(0,o.w5)((()=>[(0,o._)("span",null,(0,n.zw)(e.$t(`common.${e.type}`)),1)])),_:1},8,["translation"])])),_:1}),(0,o.Wm)(h,{slot:"end"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{onClick:e.openNews,"data-testid":"open-news"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{icon:e.newspaperOutline},null,8,["icon"])])),_:1},8,["onClick"]),(0,o.Wm)(w,{onClick:e.openOption,"data-tesid":"open-option"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{icon:e.cog},null,8,["icon"])])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,o.Wm)(S,{fullscreen:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(I,{ref:"modal","is-open":e.optionIsOpen,onWillDismiss:e.closeOption},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{onCloseOption:e.closeOption},null,8,["onCloseOption"])])),_:1},8,["is-open","onWillDismiss"]),e.dataReady?((0,o.wg)(),(0,o.j4)(C,{key:0},{default:(0,o.w5)((()=>[(0,o.Wm)(_,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y,{class:"hint"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.$t("listView.hint")),1)])),_:1})])),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.data,((t,i)=>((0,o.wg)(),(0,o.iD)("div",{key:t.id},[1==t.direction?((0,o.wg)(),(0,o.j4)(N,{key:0,button:""},{default:(0,o.w5)((()=>[(0,o.Wm)(z,null,{default:(0,o.w5)((()=>["mtr"==t.type?((0,o.wg)(),(0,o.j4)(O,{key:0,class:"open-modal",expand:"block",onClick:t=>e.openModal(i)},{default:(0,o.w5)((()=>[(0,o.Wm)(W,{"size-xs":"3","size-md":"1",class:"route-no ion-align-items-center"},{default:(0,o.w5)((()=>[(0,o._)("div",{class:"line-color-indicator",style:(0,n.j5)({"background-color":"#"+t.color})},null,4)])),_:2},1024),(0,o.Wm)(W,{"size-xs":"9","size-md":"11"},{default:(0,o.w5)((()=>["zh"===e.$i18next.language?((0,o.wg)(),(0,o.iD)("h5",l,(0,n.zw)(t.routeNameTC),1)):((0,o.wg)(),(0,o.iD)("h5",a,(0,n.zw)(t.routeNameEN),1))])),_:2},1024)])),_:2},1032,["onClick"])):(0,o.kq)("",!0),"lightRail"==t.type?((0,o.wg)(),(0,o.j4)(O,{key:1,class:"open-modal",expand:"block",onClick:t=>e.openModal(i)},{default:(0,o.w5)((()=>[(0,o.Wm)(W,{"size-xs":"3","size-md":"1",class:"route-no ion-align-items-center"},{default:(0,o.w5)((()=>[(0,o._)("h5",null,(0,n.zw)(t.routeId),1)])),_:2},1024),(0,o.Wm)(W,{"size-xs":"9","size-md":"11"},{default:(0,o.w5)((()=>["zh"===e.$i18next.language?((0,o.wg)(),(0,o.iD)("h5",d,(0,n.zw)(t.originTC)+" - "+(0,n.zw)(t.destTC),1)):((0,o.wg)(),(0,o.iD)("h5",r,(0,n.zw)(t.originEN)+" - "+(0,n.zw)(t.destEN),1))])),_:2},1024)])),_:2},1032,["onClick"])):(0,o.kq)("",!0),"tram"==t.type?((0,o.wg)(),(0,o.j4)(O,{key:2,class:"open-modal",expand:"block",onClick:t=>e.openModal(i)},{default:(0,o.w5)((()=>[(0,o.Wm)(W,{"size-xs":"8","size-md":"10"},{default:(0,o.w5)((()=>["zh"===e.$i18next.language?((0,o.wg)(),(0,o.iD)("h5",u,(0,n.zw)(t.routeNameTC),1)):((0,o.wg)(),(0,o.iD)("h5",p,(0,n.zw)(t.routeNameEN),1))])),_:2},1024),(0,o.Wm)(W,{"size-xs":"2","size-md":"1",class:"d-flex"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{onClick:(0,s.iM)((t=>e.openModal(i)),["stop"]),class:"direction1-button direction-button"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.$t("listView.westbound")),1)])),_:2},1032,["onClick"])])),_:2},1024),(0,o.Wm)(W,{"size-xs":"2","size-md":"1",class:"d-flex"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{onClick:(0,s.iM)((t=>e.openAltModal(i)),["stop"]),class:"direction2-button direction-button"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.$t("listView.eastbound")),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["onClick"])):(0,o.kq)("",!0)])),_:2},1024)])),_:2},1024)):(0,o.kq)("",!0)])))),128))])),_:1})):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(I,{"is-open":e.modalIsOpen,ref:"modal",onWillDismiss:e.closeModal},{default:(0,o.w5)((()=>[(0,o.Wm)(D,{item:e.itemSelected,noEta:e.checkNoEta,altRoutes:e.altRoutes,onCloseModal:e.closeModal,onSwapDirection:e.swapDirection},null,8,["item","noEta","altRoutes","onCloseModal","onSwapDirection"])])),_:1},8,["is-open","onWillDismiss"]),(0,o.Wm)(I,{"is-open":e.newsIsOpen,onWillDismiss:e.closeNews},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{onCloseNews:e.closeNews},null,8,["onCloseNews"])])),_:1},8,["is-open","onWillDismiss"])])),_:1})}var m=i(2262),w=i(5316),h=i(8903),g=i(3978),f=i(6009),k=i(4618),I=i(1294),y=i(4904),_=i(7942),W=(0,o.aZ)({name:"ListView",components:{IonHeader:w.Gu,IonToolbar:w.sr,IonContent:w.W2,IonPage:w._i,IonItem:w.Ie,IonLabel:w.Q$,IonList:w.q_,IonListHeader:w.yh,IonModal:w.ki,IonGrid:w.jY,IonRow:w.Nd,IonCol:w.wI,IonTitle:w.wd,IonIcon:w.gu,IonButtons:w.Sm,IonButton:w.YG,ETAPopup:k.Z,OptionView:I.Z,News:y.Z},props:["dataType"],setup(e){const t=(0,m.iH)({}),i=(0,m.iH)(!1),o=(0,m.iH)(!1),n=(0,m.iH)(!1),s=(0,m.iH)([]),l=(0,m.iH)(e.dataType),a=(0,m.iH)(!1),d=(0,m.iH)([]);return addEventListener("ionModalDidDismiss",(function(){i.value=!1})),{data:s,itemSelected:t,altRoutes:d,modalIsOpen:i,optionIsOpen:o,newsIsOpen:n,type:l,dataReady:a,cog:h.Mjo,newspaperOutline:h.U7$}},methods:{openModal(e){this.itemSelected=JSON.parse(JSON.stringify(this.data[e])),this.getAltRoutes(),console.log(this.itemSelected),this.modalIsOpen=!0},openAltModal(e){let t=this.data[e],i=this.data.findIndex((e=>e.routeId==t.routeId&&e.direction!=t.direction));-1!=i?this.openModal(i):((0,f.Z)("info","未找到相關方向，正在顯示順行"),this.openModal(e))},closeModal(){this.modalIsOpen=!1},openOption(){this.optionIsOpen=!0},closeOption(){this.optionIsOpen=!1},openNews(){this.newsIsOpen=!0},closeNews(){this.newsIsOpen=!1},currentSelectedItem(e){return e.routeId==this.itemSelected.routeId&&e.routeDirection==this.itemSelected.routeDirection},getAltRoutes(){"tram"==this.type?this.altRoutes=JSON.parse(JSON.stringify(this.data.filter((e=>e.routeNo==this.itemSelected.routeNo&&e.direction!=this.itemSelected.direction)))):"mtr"!=this.type&&"lightRail"!=this.type||(this.altRoutes=JSON.parse(JSON.stringify(this.data.filter((e=>e.routeId==this.itemSelected.routeId&&e.direction!=this.itemSelected.direction)))))},async swapDirection(e=void 0){e?(this.modalIsOpen=!1,await(0,_.Z)(100),this.itemSelected=JSON.parse(JSON.stringify(e)),this.getAltRoutes(),this.modalIsOpen=!0,console.log(this.itemSelected)):(0,f.Z)("error","此路線未有對頭車")}},async mounted(){this.data=await(0,g.FS)(this.type),this.dataReady=!0},computed:{checkNoEta(){return"ferry"==this.type||"tram"==this.type}}}),O=i(3744);const z=(0,O.Z)(W,[["render",c],["__scopeId","data-v-8b5c5df4"]]);var N=z},5405:function(e,t,i){i.r(t),i.d(t,{default:function(){return r}});var o=i(6252);function n(e,t,i,n,s,l){const a=(0,o.up)("ListView");return(0,o.wg)(),(0,o.j4)(a,{dataType:"tram"})}var s=i(1821),l=(0,o.aZ)({name:"tram",components:{ListView:s.Z}}),a=i(3744);const d=(0,a.Z)(l,[["render",n]]);var r=d}}]);
//# sourceMappingURL=405.24818c18.js.map